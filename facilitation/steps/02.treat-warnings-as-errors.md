# "Treat warnings as errors"
Prendre quelques instants pour découvrir la page [`Treat warnings as errors`](https://xtrem-tdd.netlify.app/Flavours/treat-warnings-as-errors).

## Configurer la compilation
Pour ce faire nous avons 2 options.

### Ligne de commande
On peut spécifier à `dotnet` de traiter les warnings comme erreur de compilation via la ligne de commande suivante :
```shell
dotnet build -warnaserror
```

On a dès lors 7 erreurs de compilation :
![Compile errors](img/02.treat-warnings-as-errors/compile-errors.webp)

Le problème ici, c'est que la ligne de commande n'est pas partagée entre tous les devs travaillant sur le système :
- IDE Build
- Continuous Integration

Ainsi, la volonté de `traiter tous les warnings comme des erreurs` peut être facilement "oubliée" en compilant via son IDE ou en omettant de spécifier l'argument passer ici.

On va dès lors privilégier l'option ci-dessous qui permet de partager la configuration de compilation quelque soit la manière de faire.

### Configurer nos projets
Pour configurer chaque projet on peut éditer le fichier `csproj` à la main et y ajouter :
```xml
<PropertyGroup Condition=" '$(Configuration)' == 'Debug' ">
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
</PropertyGroup>

<PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
</PropertyGroup>
```

Ou le configurer via notre IDE :
![Configure IDE](img/02.treat-warnings-as-errors/configure-ide.webp)

## Jeu des 7 erreurs
On doit maintenant résoudre les 7 erreurs. On commence par le projet du code de production `Bouchonnois`.

### Bouchonnois
![Erreurs dans le bouchonnois](img/02.treat-warnings-as-errors/bouchonnois.webp)

## Reflect
Quelles autres problèmes avions nous identifier et devrions nous corriger avant d'aller plus loin?

![Treat warnings as errors](steps/img/02.treat-warnings-as-errors/treat-warnings-as-errors.webp)